/*! PhotoSwipe Default UI - 4.1.1 - 2019-12-29
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
/**
*
* UI on top of main sliding area (caption, arrows, close button, etc.).
* Built just using public methods/properties of PhotoSwipe.
* 
*/
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";function a(a){var b=$("<textarea></textarea>");
// http://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript
// *** This styling is an extra step which is likely not required. ***
//
// Why is it here? To ensure:
// 1. the element is able to have focus and selection.
// 2. if element was to flash render it has minimal visual impact.
// 3. less flakyness with selection and copying which **might** occur if
//    the textarea element is not visible.
//
// The likelihood is the element won't even render, not even a flash,
// so some of these are just precautions. However in IE the element
// is visible whilst the popup box asking the user for permission for
// the web page to copy to the clipboard.
//
b.css({
// Place in top-left corner of screen regardless of scroll position.
position:"fixed",top:0,left:0,
// Ensure it has a small width and height. Setting to 1px / 1em doesn't work as this gives a negative w/h on some browsers.
width:"2em",height:"2em",
// We don't need padding, reducing the size if it does flash render.
padding:0,
// CLean up any borders.
border:"none",outline:"none",boxShadow:"none",
// Avoid flash of white box if rendered for any reason.
background:"transparent"}).val(a),$("body").append(b),b.select();try{document.execCommand("copy")}catch(c){window.prompt("Press Ctrl + C or Cmd + C to copy.",a)}$(b).remove()}var b=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this,y=!1,z=!0,A=!0,B={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,// 2s
addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return b.currItem.src||""},getFullImageURLForShare:function(){return b.currItem.fsrc||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return b.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(a){if(s)return!0;a=a||window.event,r.timeToIdle&&r.mouseUsed&&!l&&
// reset idle timer
M();for(var b,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<U.length;g++)b=U[g],b.onTap&&f.indexOf("pswp__"+b.name)>-1&&(b.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),s=!0;
// Some versions of Android don't prevent ghost click event 
// when preventDefault() was called on touchstart and/or touchend.
// 
// This happens on v4.3, 4.2, 4.1, 
// older versions strangely work correctly, 
// but just in case we add delay on all of them)	
var h=c.features.isOldAndroid?600:30;t=setTimeout(function(){s=!1},h)}},D=function(){return!b.likelyTouchDevice||r.mouseUsed||screen.width>r.fitControlsWidth},E=function(a,b,d){c[(d?"add":"remove")+"Class"](a,"pswp__"+b)},
// add class when there is just one item in the gallery
// (by default it hides left/right arrows and 1ofX counter)
F=function(){var a=1===r.getNumItemsFn();a!==q&&(E(e,"ui--one-slide",a),q=a)},G=function(){E(j,"share-modal--hidden",A)},H=function(){return A=!A,A?(c.removeClass(j,"pswp__share-modal--fade-in"),setTimeout(function(){A&&G()},300)):(G(),setTimeout(function(){A||c.addClass(j,"pswp__share-modal--fade-in")},30)),A||J(),!1},I=function(a){a=a||window.event;var c=a.target||a.srcElement;return b.shout("shareLinkClick",a,c),!!c.href&&(!!c.hasAttribute("download")||(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),A||H(),!1))},J=function(){for(var a,b,c,d,e,f,g="",h=0;h<r.shareButtons.length;h++)a=r.shareButtons[h],c=r.getImageURLForShare(a),d=r.getFullImageURLForShare(a),e=r.getPageURLForShare(a),f=r.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(e)).replace("{{raw_url}}",e).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{raw_full_image_url}}",d).replace("{{text}}",encodeURIComponent(f)),g+="<a "+("copy"===a.action?"":'href="'+b+'" target="_blank" ')+'class="'+("copy"===a.action?"pswp__share--download copy-to-clipboard":"pswp__share--"+a.id)+'" '+("copy"===a.action?'contents="'+a.label.replace(/"/g,"&#34;")+'" copy_content="'+e+'"':"")+(a.download?"download":"")+">"+a.label+"</a>",r.parseShareButtonOut&&(g=r.parseShareButtonOut(a,g));j.children[0].innerHTML=g,j.children[0].onclick=I},K=function(a){for(var b=0;b<r.closeElClasses.length;b++)if(c.hasClass(a,"pswp__"+r.closeElClasses[b]))return!0},L=0,M=function(){clearTimeout(w),L=0,l&&x.setIdle(!1)},N=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(w),w=setTimeout(function(){x.setIdle(!0)},r.timeToIdleOutside))},O=function(){r.fullscreenEl&&!c.features.isOldAndroid&&(d||(d=x.getFullscreenAPI()),d?(c.bind(document,d.eventK,x.updateFullscreen),x.updateFullscreen(),c.addClass(b.template,"pswp--supports-fs")):c.removeClass(b.template,"pswp--supports-fs"))},P=function(){
// Setup loading indicator
r.preloaderEl&&(Q(!0),m("beforeChange",function(){clearTimeout(p),
// display loading indicator with delay
p=setTimeout(function(){b.currItem&&b.currItem.loading?(!b.allowProgressiveImg()||b.currItem.img&&!b.currItem.img.naturalWidth)&&
// show preloader if progressive loading is not enabled, 
// or image width is not defined yet (because of slow connection)
Q(!1):Q(!0)},r.loadingIndicatorDelay)}),m("imageLoadComplete",function(a,c){b.currItem===c&&Q(!0)}))},Q=function(a){o!==a&&(E(n,"preloader--active",!a),o=a)},R=function(a){var b=a.vGap;if(D()){var d=r.barsSize;if(r.captionEl&&"auto"===d.bottom)if(g||(g=c.createEl("pswp__caption pswp__caption--fake"),g.appendChild(c.createEl("pswp__caption__center")),e.insertBefore(g,f),c.addClass(e,"pswp__ui--fit")),r.addCaptionHTMLFn(a,g,!0)){var h=g.clientHeight;b.bottom=parseInt(h,10)||44}else b.bottom=d.top;else b.bottom="auto"===d.bottom?0:d.bottom;
// height of top bar is static, no need to calculate it
b.top=d.top}else b.top=b.bottom=0},S=function(){
// Hide controls when mouse is used
r.timeToIdle&&m("mouseUsed",function(){c.bind(document,"mousemove",M),c.bind(document,"mouseout",N),v=setInterval(function(){L++,2===L&&x.setIdle(!0)},r.timeToIdle/2)})},T=function(){
// Hide controls on vertical drag
m("onVerticalDrag",function(a){z&&a<.95?x.hideControls():!z&&a>=.95&&x.showControls()});
// Hide controls when pinching to close
var a;m("onPinchClose",function(b){z&&b<.9?(x.hideControls(),a=!0):a&&!z&&b>.9&&x.showControls()}),m("zoomGestureEnded",function(){a=!1,a&&!z&&x.showControls()})},U=[{name:"caption",option:"captionEl",onInit:function(a){f=a}},{name:"share-modal",option:"shareEl",onInit:function(a){j=a},onTap:function(){H()}},{name:"button--share",option:"shareEl",onInit:function(a){i=a},onTap:function(){H()}},{name:"button--zoom",option:"zoomEl",onTap:b.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){h=a}},{name:"button--close",option:"closeEl",onTap:b.close},{name:"button--arrow--left",option:"arrowEl",onTap:b.prev},{name:"button--arrow--right",option:"arrowEl",onTap:b.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){n=a}}],V=function(){var a,b,d,f=function(e){if(e)for(var f=e.length,g=0;g<f;g++){a=e[g],b=a.className;for(var h=0;h<U.length;h++)d=U[h],b.indexOf("pswp__"+d.name)>-1&&(r[d.option]?(// if element is not disabled from options
c.removeClass(a,"pswp__element--disabled"),d.onInit&&d.onInit(a)):c.addClass(a,"pswp__element--disabled"))}};f(e.children);var g=c.getChildByClass(e,"pswp__top-bar");g&&f(g.children)};x.init=function(){
// extend options
c.extend(b.options,B,!0),
// create local link for fast access
r=b.options,
// find pswp__ui element
e=c.getChildByClass(b.scrollWrap,"pswp__ui"),
// create local link
m=b.listen,T(),
// update controls when slides change
m("beforeChange",x.update),
// toggle zoom on double-tap
m("doubleTap",function(a){var c=b.currItem.initialZoomLevel;b.getZoomLevel()!==c?b.zoomTo(c,a,333):b.zoomTo(r.getDoubleTapZoom(!1,b.currItem),a,333)}),
// Allow text selection in caption
m("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),
// bind events for UI
m("bindEvents",function(){c.bind(e,"pswpTap click",C),c.bind(b.scrollWrap,"pswpTap",x.onGlobalTap),b.likelyTouchDevice||c.bind(b.scrollWrap,"mouseover",x.onMouseOver)}),
// unbind events for UI
m("unbindEvents",function(){A||H(),v&&clearInterval(v),c.unbind(document,"mouseout",N),c.unbind(document,"mousemove",M),c.unbind(e,"pswpTap click",C),c.unbind(b.scrollWrap,"pswpTap",x.onGlobalTap),c.unbind(b.scrollWrap,"mouseover",x.onMouseOver),d&&(c.unbind(document,d.eventK,x.updateFullscreen),d.isFullscreen()&&(r.hideAnimationDuration=0,d.exit()),d=null)}),
// clean up things when gallery is destroyed
m("destroy",function(){r.captionEl&&(g&&e.removeChild(g),c.removeClass(f,"pswp__caption--empty")),j&&(j.children[0].onclick=null),c.removeClass(e,"pswp__ui--over-close"),c.addClass(e,"pswp__ui--hidden"),x.setIdle(!1)}),r.showAnimationDuration||c.removeClass(e,"pswp__ui--hidden"),m("initialZoomIn",function(){r.showAnimationDuration&&c.removeClass(e,"pswp__ui--hidden")}),m("initialZoomOut",function(){c.addClass(e,"pswp__ui--hidden")}),m("parseVerticalMargin",R),V(),r.shareEl&&i&&j&&(A=!0),F(),S(),O(),P()},x.setIdle=function(a){l=a,E(e,"ui--idle",a)},x.update=function(){
// Don't update UI if it's hidden
z&&b.currItem?(x.updateIndexIndicator(),r.captionEl&&(r.addCaptionHTMLFn(b.currItem,f),E(f,"caption--empty",!b.currItem.title)),y=!0):y=!1,A||H(),F()},x.updateFullscreen=function(a){a&&
// some browsers change window scroll position during the fullscreen
// so PhotoSwipe updates it just in case
setTimeout(function(){b.setScrollOffset(0,c.getScrollY())},50),
// toogle pswp--fs class on root element
c[(d.isFullscreen()?"add":"remove")+"Class"](b.template,"pswp--fs")},x.updateIndexIndicator=function(){r.counterEl&&(h.innerHTML=b.getCurrentIndex()+1+r.indexIndicatorSep+r.getNumItemsFn())},x.onGlobalTap=function(d){d=d||window.event;var e=d.target||d.srcElement,f=function(){(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" copy-to-clipboard ")>-1&&(e.innerHTML="Copied!",clearTimeout(u),u=setTimeout(function(){e.innerHTML=e.getAttribute("contents")},2e3),a(e.getAttribute("copy_content")))};if(f(),!s)if(d.detail&&"mouse"===d.detail.pointerType){
// close gallery if clicked outside of the image
if(K(e))return void b.close();c.hasClass(e,"pswp__img")&&(1===b.getZoomLevel()&&b.getZoomLevel()<=b.currItem.fitRatio?r.clickToCloseNonZoomable&&b.close():b.toggleDesktopZoom(d.detail.releasePoint))}else
// tap to close gallery
if(
// tap anywhere (except buttons) to toggle visibility of controls
r.tapToToggleControls&&(z?x.hideControls():x.showControls()),r.tapToClose&&(c.hasClass(e,"pswp__img")||K(e)))return void b.close()},x.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;
// add class when mouse is over an element that should close the gallery
E(e,"ui--over-close",K(b))},x.hideControls=function(){c.addClass(e,"pswp__ui--hidden"),z=!1},x.showControls=function(){z=!0,y||x.update(),c.removeClass(e,"pswp__ui--hidden")},x.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},x.getFullscreenAPI=function(){var a,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?a={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?a={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?a={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(a={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),a&&(a.enter=function(){
// disable close-on-scroll in fullscreen
return k=r.closeOnScroll,r.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?b.template[this.enterK]():void b.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},a.exit=function(){return r.closeOnScroll=k,document[this.exitK]()},a.isFullscreen=function(){return document[this.elementK]}),a}};return b});